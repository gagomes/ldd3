Code taken from http://www.cs.usfca.edu/~cruse/cs686s08/ Programming Gigabit Ethernet
